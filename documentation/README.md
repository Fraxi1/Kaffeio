# Kaffeio - Cloud Monitoring Platform

![Kaffeio Logo](../assets/logo.png)

## Overview

Kaffeio is a cloud-native platform developed for CoffeeMek S.p.A., a leading manufacturer of professional coffee machines. The platform provides comprehensive monitoring, scheduling, and simulation capabilities for industrial production across multiple global facilities.

## Table of Contents

1. [Project Structure](#project-structure)
2. [Getting Started](#getting-started)
   - [Prerequisites](#prerequisites)
   - [Installation](#installation)
   - [Configuration](#configuration)
3. [Architecture](#architecture)
   - [System Components](#system-components)
   - [Data Flow](#data-flow)
   - [Technology Stack](#technology-stack)
4. [Backend API](#backend-api)
5. [Machine Simulator](#machine-simulator)
6. [Queue Processing](#queue-processing)
7. [Deployment](#deployment)
8. [Security](#security)
9. [Contributing](#contributing)
10. [License](#license)

## Project Structure

The Kaffeio platform consists of the following main components:

- **Backend**: NestJS-based REST API for managing users, facilities, machines, lots, and telemetry data
- **Backend-Queues**: Asynchronous processing of machine telemetry data
- **Machine-Simulator**: Simulation of different machine types across multiple facilities and time zones
- **Docker**: Containerization configuration for local development and production deployment

For detailed documentation on each component, please refer to their respective directories.

## Getting Started

### Prerequisites

- Node.js (v16+)
- npm or yarn
- Docker and Docker Compose
- PostgreSQL (if running without Docker)
- Redis (if running without Docker)

### Installation

Clone the repository:

```bash
git clone https://github.com/your-organization/kaffeio.git
cd kaffeio
```

For detailed installation instructions for each component, see their respective README files:

- [Backend Installation](../backend/README.md)
- [Backend-Queues Installation](../backend-queues/README.md)
- [Machine-Simulator Installation](../machine-simulator/README.md)

### Configuration

Each component requires specific environment variables to be set. Sample `.env.example` files are provided in each component directory.

## Architecture

### System Components

Kaffeio is built with a microservices architecture consisting of:

1. **Backend API Service**: Handles HTTP requests, authentication, and database operations
2. **Queue Processing Service**: Processes telemetry data asynchronously
3. **Machine Simulator**: Generates realistic machine data for testing and demonstration
4. **Database**: Stores all application data
5. **Redis**: Used for queue management and caching

### Data Flow

1. Machine data is generated by real machines or the simulator
2. Data is sent to the Backend API
3. The API validates and stores the data
4. Asynchronous processing is handled by the Queue service
5. Processed data is made available through the API

### Technology Stack

- **Backend**: NestJS, TypeScript, PostgreSQL
- **API**: RESTful with JWT authentication
- **Queue Processing**: NestJS, Bull, Redis
- **Machine Simulator**: NestJS, TypeScript
- **Containerization**: Docker, Docker Compose

## Backend API

For detailed API documentation, see [API Documentation](../backend/API_DOCUMENTATION.md).

## Machine Simulator

The machine simulator mimics the behavior of different machine types across multiple facilities and time zones. For more information, see [Machine Simulator Documentation](../documentation/machine-simulator.md).

## Queue Processing

The queue processing service handles asynchronous processing of machine telemetry data. For more information, see [Queue Processing Documentation](../documentation/backend-queues.md).

## Deployment

For deployment instructions, see [Deployment Guide](../documentation/deployment.md).

## Security

Kaffeio implements several security measures:

- JWT authentication for API access
- Input sanitization for all user inputs
- HTTPS for all communications in production
- Password hashing and secure storage
- Role-based access control

For more details, see [Security Documentation](../documentation/security.md).

## Contributing

Please read [CONTRIBUTING.md](../CONTRIBUTING.md) for details on our code of conduct and the process for submitting pull requests.

## License

This project is licensed under the MIT License - see the [LICENSE](../LICENSE) file for details.
